#include <iostream>

#include "myproject.h"

//hls-fpga-machine-learning insert cpragmas
hls_component_ii(1)
component outputdat myproject(
    inputdat input_1
) {

    // const type_t w1[((NIN)*(NL1))] = {0.1,0.2,0.3,
    //                                   0.1,0.2,0.3,
    //                                   0.1,0.2,0.3,};
    // const type_t b1[NL1] = {0.1,0.2,0.3};
    // const type_t w2[((NOUT)*(NL1))] = {0.1,0.2,0.3};
    // const type_t b2[NOUT] = {0.1};

    const type_t w1[((NIN)*(NL1))] = {0.234676495194,
                                      -0.187852725387,
                                      0.033068928868,
                                      -0.048653922975,
                                      -0.374888777733,
                                      0.646579146385,
                                      0.050021182746,
                                      0.312999308109,
                                      0.338659077883,
                                      -0.119601063430,
                                      -0.104634605348,
                                      -0.004239426926,
                                      0.065622836351,
                                      0.195937886834,
                                      0.026970012113,
                                      0.259251356125,
                                      -0.039083551615,
                                      -0.108744531870,
                                      -0.310757696629,
                                      0.134187400341,
                                      0.314697116613,
                                      0.061356659979,
                                      -0.609105169773,
                                      0.213280841708,
                                      0.030744107440,
                                      0.111724905670,
                                      0.337700664997,
                                      -0.505674958229,
                                      0.460755765438,
                                      0.144929811358,
                                      0.590391814709,
                                      -0.139502108097,
                                      0.489353597164,
                                      0.928900778294,
                                      -0.075193911791,
                                      0.106781460345,
                                      0.174838140607,
                                      0.045111805201,
                                      -0.012011735700,
                                      0.267484903336,
                                      0.217413350940,
                                      -0.053802363575,
                                      0.521336734295,
                                      0.741704106331,
                                      0.204760104418,
                                      0.189866974950,
                                      0.694896399975,
                                      -0.047084681690,
                                      -0.061241794378,
                                      -0.344885140657,
                                      // -0.239265009761,
                                      // 0.199158847332,
                                      // -0.159427404404,
                                      // 0.243168324232,
                                      // 0.560334742069,
                                      // -0.056680489331,
                                      // -0.301117181778,
                                      // 0.140385404229,
                                      // 0.963309943676,
                                      // -0.004076196812,
                                      // 0.017683044076,
                                      // -0.594014704227,
                                      // -0.424665600061,
                                      // 0.201693132520,
                                      // -1.324574112892,
                                      // -0.722839832306,
                                      // -1.127129316330,
                                      // 0.196976169944,
                                      // -0.415619492531,
                                      // 0.764006018639,
                                      // -0.327710568905,
                                      // -0.351867020130,
                                      // 0.025160185993,
                                      // -1.401869058609,
                                      // -0.407659381628,
                                      // -0.779373645782,
                                      // -0.185360386968,
                                      // -0.352795094252,
                                      // -0.397955298424,
                                      // 0.299936443567,
                                      // 0.593552589417,
                                      // 0.220674842596,
                                      // -0.904331564903,
                                      // 0.403409689665,
                                      // 0.652491748333,
                                      // 0.303935140371,
                                      // -0.231007128954,
                                      // 0.679652690887,
                                      // -0.686998128891,
                                      // 0.537298500538,
                                      // 0.446480065584,
                                      // 0.404607325792,
                                      // -0.153588458896,
                                      // -0.057899199426,
                                      // -0.154583305120,
                                      // -0.005196111742,
                                      // -0.966766655445,
                                      // -0.729798316956,
                                      // 0.073764115572,
                                      // -0.127706095576,
                                      // -0.171641483903,
                                      // 0.735567450523,
                                      // 0.479098975658,
                                      // -0.102479398251,
                                      // 0.162729427218,
                                      // -0.255529433489,
                                      // 0.022135825828,
                                      // -0.524796724319,
                                      // -0.767900109291,
                                      // -0.140883460641,
                                      // 0.375978112221,
                                      // 0.485590696335,
                                      // 0.458020478487,
                                      // -0.602276444435,
                                      // -0.516408324242,
                                      // -0.306464314461,
                                      // 0.298553287983,
                                      // -0.566630184650,
                                      // 0.140782371163,
                                      // -0.266979396343,
                                      // -0.312020689249,
                                      // 0.359631448984,
                                      // -0.027557194233,
                                      // 0.680079162121,
                                      // -0.046208750457,
                                      // -0.571489274502,
                                      // -0.154889702797,
                                      // 0.298662900925,
                                      // 0.049587476999,
                                      // 0.314984321594,
                                      // -0.218962058425,
                                      // 0.676615715027,
                                      // 0.227464020252,
                                      // -0.367298126221,
                                      // 0.173085346818,
                                      // 0.344424575567,
                                      // 0.668825745583,
                                      // -0.372663348913,
                                      // -0.011612839997,
                                      // -0.292391359806,
                                      // 0.367831498384,
                                      // 0.287976950407,
                                      // 0.135832682252,
                                      // -0.355936557055,
                                      // -0.253560990095,
                                      // 0.233803540468,
                                      // -0.724584341049,
                                      // 0.186696887016,
                                      // 0.210219487548,
                                      // 0.180474415421,
                                      // -0.336945801973,
                                      // -0.186317071319,
                                      // 0.112369351089,
                                      // -0.380494922400,
                                      // -0.233079224825,
                                      // -0.082142435014,
                                      // -0.487959086895,
                                      // 0.352730691433,
                                      // 0.499090492725,
                                      // -0.203295618296,
                                      // 0.024232918397,
                                      // -0.345188796520,
                                      // -0.414331018925,
                                      // 0.645314693451,
                                      // -0.635902345181,
                                      // 0.005712320097,
                                      // -0.137036249042,
                                      // -0.183066666126,
                                      // 0.134018123150,
                                      // 0.144887909293,
                                      // 0.133192494512,
                                      // 0.298063814640,
                                      // -0.033485054970,
                                      // -0.182288676500,
                                      // -0.306749105453,
                                      // -0.284886986017,
                                      // 0.560054361820,
                                      // 0.515447556973,
                                      // -0.298681527376,
                                      // 0.567099988461,
                                      // 0.125331550837,
                                      // 0.093314036727,
                                      // 0.343518227339,
                                      // 0.420113384724,
                                      // -0.228969022632,
                                      // 0.365391165018,
                                      // -0.132164239883,
                                      // -0.218202665448,
                                      // -0.268777012825,
                                      // -0.322142124176,
                                      // -0.496080636978,
                                      // 0.144607067108,
                                      // -0.042766239494,
                                      // 0.609583735466,
                                      // -0.343650430441,
                                      // -0.162534177303,
                                      // 0.308344244957,
                                      // -0.035498823971,
                                      // 0.491337627172,
                                      // 0.222806707025, //200
                                      // 0.253832310438,
                                      // 0.403755426407,
                                      // 0.604833245277,
                                      // 0.588150560856,
                                      // 0.229588016868,
                                      // -0.081054814160,
                                      // 0.284042477608,
                                      // -0.406626522541,
                                      // -0.606816709042,
                                      // -0.705691933632,
                                      // 0.582501173019,
                                      // 0.618873775005,
                                      // -0.395378500223,
                                      // 0.158397704363,
                                      // -0.016897458583,
                                      // 0.161945745349,
                                      // 0.245297253132,
                                      // 0.623394966125,
                                      // -0.177326291800,
                                      // 0.010200986639,
                                      // 0.758728086948,
                                      // -0.470304638147,
                                      // -0.167916223407,
                                      // -0.999513924122,
                                      // 0.563036501408,
                                      // 0.311345219612,
                                      // 0.726379990578,
                                      // -0.195196151733,
                                      // 0.221614569426,
                                      // -0.437257111073,
                                      // -0.244204044342,
                                      // -0.250456511974,
                                      // -0.213483363390,
                                      // 0.117762841284,
                                      // 0.547710299492,
                                      // 0.181153118610,
                                      // -0.053818069398,
                                      // 0.089798942208,
                                      // -0.002003469504,
                                      // 0.177981436253,
                                      // -0.309783190489,
                                      // 0.010215465911,
                                      // 0.121303893626,
                                      // 0.610187113285,
                                      // -0.411054939032,
                                      // 0.432352662086,
                                      // 0.180403038859,
                                      // -0.382205426693,
                                      // 0.292676270008,
                                      // -0.388702243567,
                                      // 0.166286423802,
                                      // -0.467143088579,
                                      // 0.623593688011,
                                      // -0.276711225510,
                                      // -0.290422081947,
                                      // -0.485341101885,
                                      // 1.004027962685,
                                      // 0.347476035357,
                                      // 0.157676964998,
                                      // 0.192311152816,
                                      // -0.070800282061,
                                      // -0.120614595711,
                                      // 0.594285190105,
                                      // 0.548871576786,
                                      // -0.022264782339,
                                      // 0.393786609173,
                                      // 0.529786407948,
                                      // -1.285790681839,
                                      // 1.145897507668,
                                      // -1.743828415871,
                                      // -0.706891596317,
                                      // -0.184474229813,
                                      // -0.044823959470,
                                      // 0.671503007412,
                                      // 0.069877333939,
                                      // -0.269538819790,
                                      // 0.270589292049,
                                      // 0.865521728992,
                                      // 0.242371201515,
                                      // -0.124272048473,
                                      // 0.317043393850,
                                      // -0.462659120560,
                                      // -0.605653822422,
                                      // -0.571903705597,
                                      // 0.336246252060,
                                      // 0.932778537273,
                                      // 0.460755556822,
                                      // -1.125282287598,
                                      // -0.420745044947,
                                      // -0.518415153027,
                                      // -0.036063529551,
                                      // 0.750933110714,
                                      // 0.300620198250,
                                      // 0.240048289299,
                                      // -0.460040360689,
                                      // -0.958483159542,
                                      // 0.692690789700,
                                      // -0.611053526402,
                                      // -0.449599057436,
                                      // -1.070303320885,
                                      // -0.131233751774,
                                      // 0.190460935235,
                                      // -0.322590202093,
                                      // -0.353187531233,
                                      // 0.521009802818,
                                      // 0.536341428757,
                                      // -0.099615536630,
                                      // -0.382840991020,
                                      // 0.457479506731,
                                      // 0.845485031605,
                                      // 0.347665607929,
                                      // 0.889368653297,
                                      // -0.474471628666,
                                      // 0.810460865498,
                                      // 0.048743933439,
                                      // 0.090989567339,
                                      // -0.025779491290,
                                      // 0.211924791336,
                                      // -0.161311253905,
                                      // 0.041190680116
    };//32*10
    const type_t w2[((NOUT)*(NL1))] = {-1.130043148994,
                                       -0.614738821983,
                                       -0.818155288696,
                                       -0.154053628445,
                                       0.280428349972,
                                       // 0.632569670677,
                                       // 1.295167207718,
                                       // -0.618011057377,
                                       // -0.218707650900,
                                       // -1.631116747856,
                                       // 0.553334414959,
                                       // 1.227849483490,
                                       // -1.338106870651,
                                       // 1.195711016655,
                                       // -0.619842708111,
                                       // 0.293626189232,
                                       // 0.490288227797,
                                       // -0.591409325600,
                                       // -0.961875975132,
                                       // -0.277269393206,//20
                                       // 0.366011530161,
                                       // -0.430869191885,
                                       // -0.124347195029,
                                       // -0.486818879843,
                                       // -0.396989852190,
                                       // -0.426444560289,
                                       // 0.757545530796,
                                       // 0.394386082888,
                                       // 0.910594820976,
                                       // -0.562941968441,
                                       // -0.200449213386,
                                       // 0.820765554905
    };//32
    const type_t b1[NL1] = {0.842707276344,
                            0.790710926056,
                            0.649383246899,
                            0.070417419076,
                            0.408660680056,
                            // 0.000172127271,
                            // -0.381356090307,
                            // 0.474602311850,
                            // 0.004796015564,
                            // 0.903386890888,
                            // 0.413944244385,
                            // 0.291701883078,
                            // 0.186859875917,
                            // 0.775032043457,
                            // 0.980667233467,
                            // -0.033508975059,
                            // 0.136530324817,
                            // -0.507931947708,
                            // 0.280194580555,
                            // -0.164520114660,//20
                            // 0.115044556558,
                            // 0.462207913399,
                            // 0.053885340691,
                            // -0.280169636011,
                            // 0.863157331944,
                            // -0.005371236242,
                            // 0.433017969131,
                            // 0.109317146242,
                            // 0.449995666742,
                            // 0.269712030888,
                            // 0.507173120975,
                            // -0.024444274604
    }; //32
    const type_t b2[NOUT] = {0.098531961441}; //1

    inputdat layer_1;

    #pragma unroll
    for(int j=0;j<NL1;j++){
        hls_register type_t acc = b1[j];
        #pragma unroll
        for(int i=0;i<NIN;i++){
            type_t mult = input_1.data[i] * w1[i+NL1*j];
            acc += mult;
        }
        layer_1.data[j]=acc;
    }

    outputdat o;

    #pragma unroll
    for(int j=0;j<NOUT;j++){
        hls_register type_t acc = b2[j];
        #pragma unroll
        for(int i=0;i<NL1;i++){
            type_t mult = layer_1.data[i] * w2[i+NOUT*j];
            acc += mult;
        }
        o.data[j]=acc;
    }

    return o;
}
